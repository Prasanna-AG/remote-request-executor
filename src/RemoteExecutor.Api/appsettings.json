{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "System.Net.Http.HttpClient": "Warning"
    },
    "Console": {
      "FormatterName": "json",
      "FormatterOptions": {
        "IncludeScopes": true,
        "TimestampFormat": "yyyy-MM-ddTHH:mm:ss.fffZ",
        "UseUtcTimestamp": true
      }
    }
  },

  "AllowedHosts": "*",

  "Service": {
    "InstanceId": "remote-executor-01",
    "MaxRequestBodySizeKb": 1000,
    "DefaultTimeoutSeconds": 30
  },

  "RetryPolicy": {
    "MaxAttempts": 3,
    "BaseDelayMs": 200,
    "MaxDelayMs": 5000,
    "JitterPercent": 0.25,
    "TransientStatusCodes": [ 408, 429, 500, 502, 503, 504 ]
  },

  "Executors": {
    "Http": {
      "AllowedHeaderPrefixes": [ "Accept", "Content-Type", "User-Agent", "X-Correlation-Id" ],
      "FilteredHeaders": [ "Authorization", "Proxy-Authorization" ],
      "MaxResponseBodyLengthKb": 512,
      "DefaultTimeoutSeconds": 15
    },
    "PowerShell": {
      "AllowedCommands": [ "Get-Mailbox", "Get-User", "Get-DistributionGroup" ],
      "SessionReuseEnabled": false,
      "SessionTimeoutSeconds": 60,
      "Authentication": {
        "Type": "Basic",
        "Username": "",
        "Password": ""
      }
    }
  },

  "Observability": {
    "EnableStructuredLogging": true,
    "Metrics": {
      "PublishIntervalSeconds": 30,
      "TrackLatencyPercentiles": [ 50, 95, 99 ]
    }
  }
}
